@using Microsoft.AspNet.Identity
@if (Request.IsAuthenticated)
{
    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
    {
        @Html.AntiForgeryToken()
        <a class="btn btn-icon btn-transparent-dark dropdown-toggle" id="navbarDropdownUserImage" href="javascript:void(0);" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-user"></i><i class="fa fa-chevron-down"></i></a>
        <div class="dropdown-menu dropdown-menu-end border-0 shadow animated--fade-in-up" aria-labelledby="navbarDropdownUserImage">
            <h6 class="dropdown-header d-flex align-items-center">
                <img class="dropdown-user-img" src="~/images/ndc-logo.png" />
                <div class="dropdown-user-details">
                    <div class="dropdown-user-details-name">@User.Identity.GetUserName()</div>
                    <div class="dropdown-user-details-email">@User.Identity.GetUserName()</div>
                </div>
            </h6>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="@Url.Action("ChangeUserPassword", "Account")">
                <div class="dropdown-item-icon"><i data-feather="settings"></i></div>
                Change Password
            </a>
            <a class="dropdown-item" href="javascript:document.getElementById('logoutForm').submit()">
                <div class="dropdown-item-icon"><i data-feather="log-out"></i></div>
                Log Off
            </a>

        </div>
    }
}

