@model IEnumerable<NDCWeb.Areas.Member.View_Models.SpouseChildrenIndxVM>

    <table class="table table-condensed table-bordered table-hover">
        <thead>
            <tr class="bg-light">
                <td class="juipfname">@Html.DisplayNameFor(model => model.ChildName)</td>
                <td class="juipfname">Blood Group</td>
                <td class="juipfname">@Html.DisplayNameFor(model => model.DOBirth)</td>
                <td class="juipfname">@Html.DisplayNameFor(model => model.Gender)</td>
                <td class="juipfname">@Html.DisplayNameFor(model => model.Occupation)</td>
                <td class="juipfname">Children staying with officer during course </td>
                <td>Remove</td>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
            <tr>
                <td class="juipfvalue">@Html.DisplayFor(modelItem => item.ChildName)</td>
                <td class="juipfvalue"></td>
                <td class="juipfvalue">@Html.DisplayFor(modelItem => item.DOBirth)</td>
                <td class="juipfvalue">@Html.DisplayFor(modelItem => item.Gender)</td>
                <td class="juipfvalue">@Html.DisplayFor(modelItem => item.Occupation)</td>
                <td class="juipfvalue">@Html.DisplayFor(modelItem => item.StayWithMember)</td>
                <td>
                    <button type="button" class="btn btn-transparent red btn-xs" onclick="removeSpouseChildren(@item.ChildId, this)"><i class="fa fa-trash"></i></button>
                </td>
            </tr>
            }
        </tbody>
    </table>


<script>
    function removeSpouseChildren(id, event) {
        $.ajax({
            type: 'post',
            url: '/api/courseMembers/SpouseChildrenDelete/' + id,
            datatype: 'json',
            success: function (data, textStatus, xhr) {
                if (textStatus === 'success') {
                    $(event).closest("tr").remove();
                }
            },
            error: function () {
                alert('Operation Failed!')
            }
        });
    }
</script>


