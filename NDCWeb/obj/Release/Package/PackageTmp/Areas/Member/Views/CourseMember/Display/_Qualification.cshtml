@model IEnumerable<NDCWeb.Areas.Member.View_Models.CrsMbrQualificationIndxVM>
<table class="">
    <tr class="bg-2 text-white">
        <td colspan="6">Qualifications</td>
    </tr>
    <tr class="bg-light">
        <td class="juipfname">@Html.DisplayNameFor(model => model.Course)</td>
        <td class="juipfname">@Html.DisplayNameFor(model => model.QualificationType)</td>
        <td class="juipfname">@Html.DisplayNameFor(model => model.Year) </td>
        <td class="juipfname">@Html.DisplayNameFor(model => model.Location) </td>
        <td class="juipfname">@Html.DisplayNameFor(model => model.Country) </td>
        <td>Remove</td>
    </tr>
    @foreach (var item in Model)
    {
        <tr>
            <td class="juipfvalue">@Html.DisplayFor(modelItem => item.Course)</td>
            <td class="juipfvalue">@Html.DisplayFor(modelItem => item.QualificationType)</td>
            <td class="juipfvalue">@Html.DisplayFor(modelItem => item.Year)</td>
            <td class="juipfvalue">@Html.DisplayFor(modelItem => item.Location)</td>
            <td class="juipfvalue">@Html.DisplayFor(modelItem => item.Country)</td>
            <td class="juipfvalue">
                <button type="button" class="btn btn-transparent text-danger btn-sm" onclick="removeCMQualification(@item.QualificationId, this)"><i class="fa fa-trash"></i></button>
            </td>
        </tr>
    }
    <tr class="bg-light text-center">
        <td colspan="6"><a class="btn btn-sm btn-primary text-white" data-toggle="tab" onclick="serviceEditClick('QualificationPartial')">Add More</a></td>
    </tr>
</table>

<script>
    function removeCMQualification(id, event) {
        $.ajax({
            type: 'post',
            url: '/api/courseMembers/QualificationDelete/' + id,
            datatype: 'json',
            success: function (data, textStatus, xhr) {
                if (textStatus === 'success') {
                    $(event).closest("tr").remove();
                }
            },
            error: function () {
                alert('Operation Failed!')
            }
        });
    }
</script>
