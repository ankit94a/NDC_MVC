
@model IEnumerable<NDCWeb.Areas.Member.View_Models.PassportChildrenIndxVM>

<table class="table table-condensed table-bordered table-hover">
    <thead>
        <tr class="bg-light">
            <td class="juipfname">@Html.DisplayNameFor(model => model.PassportNo)</td>
            <td class="juipfname">@Html.DisplayNameFor(model => model.PassportIssueDate)</td>
            <td class="juipfname">@Html.DisplayNameFor(model => model.PassportValidUpto)</td>
            <td class="juipfname">@Html.DisplayNameFor(model => model.PassportType)</td>
            <td class="juipfname">Full Name </td>
            <td class="juipfname">Passport Image</td>
            <td>Remove</td>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
        <tr>
            <td class="juipfvalue">@Html.DisplayFor(modelItem => item.PassportNo)</td>
            <td class="juipfvalue">@Html.DisplayFor(modelItem => item.PassportIssueDate)</td>
            <td class="juipfvalue">@Html.DisplayFor(modelItem => item.PassportValidUpto)</td>
            <td class="juipfvalue">@Html.DisplayFor(modelItem => item.PassportType)</td>
            <td class="juipfvalue"></td>
            <td class="juipfvalue"><img src="@Url.Content(item.PassportImgPath ?? "#")" class="img-thumbnail" width="120" /></td>
            <td>
                <button type="button" class="btn btn-transparent red btn-xs" onclick="removePassportChildren(@item.ChildPassportId, this)"><i class="fa fa-trash"></i></button>
            </td>
        </tr>
        }
    </tbody>
</table>


<script>
    function removePassportChildren(id, event) {
        $.ajax({
            type: 'post',
            url: '/api/courseMembers/ChildrenPassportDelete/' + id,
            datatype: 'json',
            success: function (data, textStatus, xhr) {
                if (textStatus === 'success') {
                    $(event).closest("tr").remove();
                }
            },
            error: function () {
                alert('Operation Failed!')
            }
        });
    }
</script>


