<!DOCTYPE html>
<html>
<head id="Head1">
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0" />
    <meta content="IE=Edge" http-equiv="X-UA-Compatible" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>
        National Defence College
    </title>
    <meta content="National Defence College, NDC,New Delhi,NDC DELHI, Delhi, MPhil, Affiliated to Madras University, Defence Education, AI, warfare, modern, warfare, army, army college, raksha bhawan,civil,service,air force, navy, police" name="keywords" />
    <meta content="NDC is a pioneering institute of its type in Asia. The role of the college has remained largely unchanged since 1959, when the President of India sanctioned the setting up of a National Defence College for providing instruction to senior service and civil service officers in the wider aspects of higher direction and strategy of warfare." name="description" />
    <meta content="National Defence College, NDC,New Delhi,NDC DELHI, Delhi, MPhil, Affiliated to Madras University, Defence Education, AI, warfare, modern, warfare, army, army college, raksha bhawan,civil,service,air force, navy, police" name="DC.Subject.Keyword" />
    <meta content="NDC is a pioneering institute of its type in Asia. The role of the college has remained largely unchanged since 1959, when the President of India sanctioned the setting up of a National Defence College for providing instruction to senior service and civil service officers in the wider aspects of higher direction and strategy of warfare." name="NDC.Description" />


    <link rel="icon" href="/images/NDC-Logo.png" type="image/x-icon">

    <!-- ✅ CSS -->
    <link rel="stylesheet" href="~/Component/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/Areas/Member/Component/css/style.css" />
    <link rel="stylesheet" href="~/Areas/Member/Component/css/main.css" />
    <link rel="stylesheet" href="~/Areas/Member/Component/css/index.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.9.1/fullcalendar.min.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.9.1/fullcalendar.print.css" media="print" />
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.dataTables.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/v/dt/dt-2.1.6/b-3.1.2/b-html5-3.1.2/datatables.min.css" />

    @{
        var timeoutMinutes = Session.Timeout;
    }

    @Styles.Render("~/bundles/jquistyle")
    @Styles.Render("~/bundles/datatables/css")
    @Styles.Render("~/bundles/toastr/css")

    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/mainjs")


    <script type="text/javascript">
        $(document).ready(function () {
            $("#respMenu").aceResponsiveMenu({
                resizeWidth: '2000',
                animationSpeed: 'fast',
                accoridonExpAll: false
            });
        });
        $(document).ready(function () {
            $('#main-nav nav').meanmenu()
        });
    </script>

    <style>
        body {
            margin: 0 !important;
            padding: 0 !important;
        }

        .grid-container {
            display: grid;
            grid-template-columns: 260px 1fr; /* sidebar + content */
            grid-template-rows: 10vh 5vh 1fr 5vh;
            grid-template-areas:
                "header header"
                "sidebar navbar"
                "sidebar main"
                "footer footer";
            height: 100vh;
            width: 100vw;
            transition: grid-template-columns 0.3s ease;
        }

            /* collapsed sidebar layout */
            .grid-container.collapsed {
                grid-template-columns: 0px 1fr; /* hide sidebar, let navbar & main stretch */
            }

        /* Areas */
        .header {
            grid-area: header;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* sidebar */
        #sidebar {
            grid-area: sidebar;
            width: 260px;
            transition: width 0.3s ease;
            background: #fff;
            border-right: 1px solid #eee;
            overflow-y: auto;
        }

            /* collapsed sidebar */
            #sidebar.collapsed {
                width: 80px;
            }

        .navbar {
            grid-area: navbar;
            background: #FAFAFA;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .main {
            grid-area: main;
            background: #fff;
            overflow-y: auto;
            transition: all 0.3s ease;
        }

        .footer {
            grid-area: footer;
            background: #f1f3f5;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .menu-toggle {
            width: 94% !important;
        }
        /* Responsive */
        media (max-width: 992px) {
            .grid-container

        {
            grid-template-columns: 1fr;
            grid-template-rows: 15vh auto auto 1fr 10vh;
            grid-template-areas:
                "header"
                "navbar"
                "sidebar"
                "main"
                "footer";
        }

        .grid-container.collapsed {
            grid-template-columns: 1fr;
        }

        .sidebar {
            height: auto;
            max-height: 200px;
        }
        }
    </style>

</head>

<body id="fontSize">
    <div class="grid-container">
        <div class="header">
            @Html.Partial("_Header")
        </div>
        <div id="sidebar">
            @if (ViewBag.SiteMenuStaffType != null)
            {
                @Html.Partial("_StaticUserMenu")

            }
        </div>
        <div class="navbar"> @Html.Partial("_MasterSearch")</div>
        <div class="main">
            @Html.Partial("_Notifications")
            @Html.AntiForgeryToken()
            @RenderBody()
        </div>
        <div class="footer"> @Html.Partial("_Footer")</div>
    </div>
    <!-- ✅ JS -->
    <script src="~/Component/js/jquery/jquery-3.7.1.min.js"></script>
    <script src="~/Component/js/jquery.flexisel.js"></script>
    <script src="~/Component/js/ace-responsive-menu.js"></script>
    <script src="~/Component/js/font-size.js"></script>
    <script src="~/Component/js/superfish.js"></script>
    <script src="~/Component/js/jquery.meanmenu.js"></script>
    <script src="~/Component/js/custom.js"></script>

    @Scripts.Render("~/bundles/jqueryui")
    @Scripts.Render("~/bundles/toastr/js")

    <!-- Plugins -->
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.9.1/fullcalendar.min.js"></script>
    <script src="~/Areas/Staff/Component/Custom/js/script-custom-calendar.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/2.0.8/js/dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/v/dt/dt-2.1.6/b-3.1.2/b-html5-3.1.2/datatables.min.js"></script>
    <script src="https://cdn.datatables.net/v/dt/jszip-3.10.1/dt-2.1.6/b-3.1.2/b-html5-3.1.2/datatables.min.js"></script>

    <!-- ✅ Keep only one Bootstrap include -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Bootstrap Icons (for caret up/down) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">


    <script>
        toastrOptDefault();

        document.addEventListener("DOMContentLoaded", function () {
            const toggleBtn = document.getElementById("sidebarToggle");
            const grid = document.querySelector(".grid-container");
            const sidebar = document.getElementById("sidebar");

            if (toggleBtn && grid && sidebar) {
                toggleBtn.addEventListener("click", function () {
                    grid.classList.toggle("collapsed");
                    sidebar.classList.toggle("collapsed");
                });
            }

            // submenu toggle
            document.querySelectorAll('.sidebar-menu li.has-sub > a.menu-toggle').forEach(item => {
                item.addEventListener('click', function (e) {
                    e.preventDefault();
                    this.parentElement.classList.toggle('active');
                });
            });
        });
    </script>


    <script>
        const dropdown = document.getElementById("profileDropdown");
        const arrow = dropdown.querySelector(".dropdown-arrow");

        dropdown.addEventListener("click", function () {
            setTimeout(() => {
                if (dropdown.getAttribute("aria-expanded") === "true") {
                    arrow.classList.remove("bi-caret-right-fill");
                    arrow.classList.add("bi-caret-down-fill");
                } else {
                    arrow.classList.remove("bi-caret-down-fill");
                    arrow.classList.add("bi-caret-right-fill");
                }
            }, 100); // let Bootstrap update aria-expanded first
        });
    </script>



    <script>

        document.addEventListener("DOMContentLoaded", function () {
            var remainingSeconds = 60 * 60; // 1 hour = 3600 seconds
            var remainingTimeEl = document.getElementById("remainingTime");
            var logoutForm = document.getElementById("logoutForm");

            function updateRemaining() {
                if (remainingSeconds <= 0) {
                    remainingTimeEl.innerText = "Time Out";
                    if (logoutForm) {
                        logoutForm.submit(); // auto logout
                        window.location.href = '/Auth/Login'; // redirect to login
                    }
                    return;
                }

                var minutes = Math.floor(remainingSeconds / 60);
                var seconds = remainingSeconds % 60;
                remainingTimeEl.innerText =
                    minutes + "m " + (seconds < 10 ? "0" : "") + seconds + "s left";

                remainingSeconds--;
            }

            setInterval(updateRemaining, 1000);
            updateRemaining();
        });

    </script>


    @Scripts.Render("~/bundles/custom")
    @RenderSection("scripts", required: false)

</body>

</html>